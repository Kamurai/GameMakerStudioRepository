<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>sprenemy</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>par_all</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//*********************************************THIS OBJECT IS THE ENEMY A.I*********************************************
myHealth=30; //gives the enemy some health
maxHealth=30; //the maximum amount of health the enemy can have

range=600; //the distance the enemy can see
sightAngle=60; //the angle of the enemy's arc of sight
myEnemy=noone; //the enemy's enemy
alert=false; //whether the enemy is alert or not

gun=choose(0,1,2,3,4); //this is only for the ammo pickup's use (it simply chooses a gun for the enemy to use). The numbers are from the number of weapons in the example (see objplayer Create event).

/****MOST A.I CODE HAS BEEN REMOVED - THE ENEMY WILL ONLY LOOK AT YOU IF IT SEES YOU BY USING MY SCRIPT*****/
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>immune=false //set immune back to false</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>myEnemy=arc_of_sight(x,y,direction,range,sightAngle,objplayer,objwall) //if you have more than one object that the enemy can't see through, you'll need to make a system of parents to accomodate both the enemy's arc of sight, and player's laser

if (myEnemy!=noone) //if an enemy is seen
{
    direction=point_direction(x+lengthdir_x(15,direction+270),y+lengthdir_y(15,direction+270),myEnemy.x,myEnemy.y); //set direction to point from the enemy's gun to it's enemy (in this case, the player)
    alert=true; //set alert to true
}
else //if no enemy is seen
{
    //no system here as of yet (wait for v2.1)
}
image_angle=direction; //set the angle of the image to the direction the enemy is facing

//************when the enemy dies************
if (myHealth &lt;= 0) //if health is less than or equal to 0
{
    dropAmmo=1; //drop an ammo pickup (used to determine if the pickup was dropped or not (see objammoPkup for details)
    dropHealth=choose(0,0,0,0,0,0,0,0,0,1);  //choose to drop a health pickup. 0 is 'do not drop', and 1 is 'drop'
    instance_create(x,y,objammoPkup); //create the ammo pickup
    if (dropHealth==1) //if chosen to drop a health pickup
    {
        instance_create(x+10,y+10,objhlthPkup); //create the health pickup (away from the ammo pickup)
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="objexplosion">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>myHealth-=0.5; //take 0.5 off of current health (i recommend a small number as the explosion part will cause damage so long as it exists, and is touching the enemy)
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="objbullet">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>myHealth-=other.damage; //reduce health by the damage the projectile causes
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>draw_sprite_ext(sprite_index,image_index,x,y,image_xscale,image_yscale,image_angle,image_blend,image_alpha); //draw the enemy
draw_circle_sector(direction,range,sightAngle,sightAngle,c_black,true); //draw it's line of sight (LoS)
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
